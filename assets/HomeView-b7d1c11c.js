import{d as S,w as u,c as M,a as b,u as N,b as V,r as f,o as j,e as a}from"./index-64851dc6.js";const v=r=>{const e=["皇室","家族"];for(const t of e)return r.replace(t,"")},h=(r,e=!1)=>{const t=[];return r.forEach(s=>{t.push(s.toMutableJSON())}),e?t.sort(H):t};function H(r,e){return r.orderby-e.orderby}const J=(r,e,t)=>r.map(o=>(e.forEach(l=>{l.way.includes(o.name)&&l.ismian&&(o.org?o.org=v(l.name+" / "+o.org):o.org=l.name)}),t.forEach(l=>{l.ways.includes(o.name)&&(o.yuanzhi=l,o.colspan=l.ways.length)}),o.order.forEach(l=>{o[l.num]=l}),o)),q=S({__name:"HomeView",async setup(r){let e,t;const s=V(),o=s.ways,l=s.organization,y=s.yuanzhi,z=([e,t]=u(()=>o.find().exec()),e=await e,t(),e),_=([e,t]=u(()=>l.find().exec()),e=await e,t(),e),w=([e,t]=u(()=>y.find().exec()),e=await e,t(),e),x=h(z,!0),C=h(_),A=h(w),p=J(x,C,A);console.log(p);const g={name:""},d={name:""},k=({row:i,column:c})=>{if(c.label=="源质")return g.name!=i.yuanzhi.name?(g.name=i.yuanzhi.name,[i.colspan,1]):[0,0];if(c.label=="旧日称号")return d.name!=i.yuanzhi.title?(d.name=i.yuanzhi.title,[i.colspan,1]):[0,0]},D={源堡:{string:"源堡",column:[7,8,9,14,15],name:"yuanbao"},永暗之河:{string:"永暗之河",column:[6,7,8,9,14,15],name:"yonganzhihe"},混沌海:{string:"混沌海",column:[6,7,8,9,14,15],name:"hundunhai"},知识荒野:{string:"知识荒野",column:[6,7,8,9,14,15],name:"zhishihuangye"},失序之国:{string:"失序之国",column:[6,7,8,9,14,15],name:"shixuzhiguo"},灾祸之城:{string:"灾祸之城",column:[6,7,8,9,14,15],name:"zaihuozhicheng"},母巢:{string:"母巢",column:[6,7,8,9,14,15],name:"muchao"},暗影世界:{string:"暗影世界",column:[6,7,8,9,14,15],name:"anyingshijie"}},B=({row:i,columnIndex:c})=>{if(i.yuanzhi.name!="光之钥"){const n=D[i.yuanzhi.name];if(i.yuanzhi.name==n.string&&n.column.includes(c))return n.name}},E=(i,c,n,m)=>{console.log(i),console.log(c),console.log(n),console.log(m)};return(i,c)=>{const n=f("el-table-column"),m=f("el-table");return j(),M(m,{class:"main",onCellClick:E,"cell-class-name":B,border:!0,data:N(p),"span-method":k},{default:b(()=>[a(n,{align:"center",label:"诡秘之主序列途径一览","label-class-name":"main_box"},{default:b(()=>[a(n,{width:"140",align:"center",prop:"power",label:"序列权柄"}),a(n,{width:"80",align:"center",label:"序列九",prop:"9.name"}),a(n,{width:"80",align:"center",label:"序列八",prop:"8.name"}),a(n,{width:"80",align:"center",label:"序列七",prop:"7.name"}),a(n,{width:"80",align:"center",label:"序列六",prop:"6.name"}),a(n,{width:"80",align:"center",label:"序列五",prop:"5.name"}),a(n,{width:"80",align:"center",label:"序列四",prop:"4.name"}),a(n,{width:"80",align:"center",label:"序列三",prop:"3.name"}),a(n,{width:"80",align:"center",label:"序列二",prop:"2.name"}),a(n,{width:"80",align:"center",label:"序列一",prop:"1.name"}),a(n,{width:"80",align:"center",label:"序列零",prop:"0.name"}),a(n,{width:"140",align:"center",prop:"org",label:"主要途径组织"}),a(n,{width:"70",align:"center",prop:"taluopai",label:"塔罗牌"}),a(n,{width:"140",align:"center",prop:"top",label:"现存高位者"}),a(n,{width:"80",align:"center",prop:"yuanzhi.name",label:"源质"}),a(n,{width:"160",align:"center",prop:"yuanzhi.title",label:"旧日称号"})]),_:1})]),_:1},8,["data"])}}});export{q as default};
